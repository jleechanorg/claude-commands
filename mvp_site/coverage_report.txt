Name                                                   Stmts   Miss  Cover
--------------------------------------------------------------------------
__init__.py                                                0      0   100%
config/__init__.py                                         0      0   100%
config/paths.py                                           89     89     0%
constants.py                                              74     74     0%
custom_types.py                                           72     72     0%
debug_hybrid_system.py                                   105    105     0%
debug_json_response.py                                    49     49     0%
debug_mode_parser.py                                      36     36     0%
decorators.py                                             17     17     0%
document_generator.py                                     68     68     0%
dual_pass_generator.py                                   104    104     0%
entity_instructions.py                                   149    149     0%
entity_preloader.py                                      120    120     0%
entity_tracking.py                                         9      9     0%
entity_utils.py                                            4      4     0%
entity_validator.py                                      237    237     0%
file_cache.py                                             55     55     0%
firestore_service.py                                     503    503     0%
game_state.py                                            179    179     0%
gemini_request.py                                        126    126     0%
gemini_response.py                                       156    156     0%
gemini_service.py                                        822    822     0%
inspect_sdk.py                                            24     24     0%
json_utils.py                                            197    197     0%
logging_util.py                                           87     87     0%
main.py                                                  483    483     0%
main_parallel_dual_pass.py                                40     40     0%
mcp_api.py                                               265    265     0%
mcp_client.py                                            345    345     0%
mcp_memory_real.py                                        65     65     0%
memory_integration.py                                    151    151     0%
memory_mcp_real.py                                        17     17     0%
mocks/__init__.py                                          5      5     0%
mocks/data_fixtures.py                                    11     11     0%
mocks/mock_firestore_service.py                          186    186     0%
mocks/mock_firestore_service_wrapper.py                   97     97     0%
mocks/mock_gemini_service.py                              93     93     0%
mocks/mock_gemini_service_wrapper.py                      68     68     0%
mocks/structured_fields_fixtures.py                        4      4     0%
narrative_response_schema.py                             298    298     0%
narrative_sync_validator.py                              106    106     0%
numeric_field_converter.py                                54     54     0%
prompt_utils.py                                           31     31     0%
robust_json_parser.py                                    139    139     0%
start_flask.py                                             8      8     0%
structured_fields_utils.py                                 6      6     0%
test_documentation_performance.py                         77     77     0%
testing_framework/__init__.py                              9      9     0%
testing_framework/capture.py                             178    178     0%
testing_framework/capture_analysis.py                    177    177     0%
testing_framework/capture_cli.py                         120    120     0%
testing_framework/config.py                               16     16     0%
testing_framework/factory.py                              32     32     0%
testing_framework/fixtures.py                             67     67     0%
testing_framework/integration_utils.py                   134    134     0%
testing_framework/migration_examples.py                  104    104     0%
testing_framework/mock_provider.py                        29     29     0%
testing_framework/pytest_integration.py                  113    113     0%
testing_framework/real_provider.py                        91     91     0%
testing_framework/service_provider.py                     14     14     0%
testing_framework/simple_mock_provider.py                 76     76     0%
testing_framework/test_basic_validation.py               152    152     0%
testing_framework/test_framework_validation.py           131    131     0%
testing_framework/test_integration_validation.py         164    164     0%
testing_framework/tests/__init__.py                        0      0   100%
testing_framework/tests/test_capture.py                  205    205     0%
testing_framework/tests/test_factory.py                   76     76     0%
testing_framework/tests/test_integration_example.py       35     35     0%
testing_framework/tests/test_mock_provider.py             40     40     0%
testing_framework/tests/test_real_provider.py             67     67     0%
tests/__init__.py                                          0      0   100%
tests/archive_redundant_test_real_api_integration.py     166    166     0%
tests/fake_auth.py                                       130    130     0%
tests/fake_firestore.py                                   99     99     0%
tests/fake_gemini.py                                     129    129     0%
tests/fake_services.py                                   167    167     0%
tests/mcp_test_client.py                                 157    157     0%
tests/test_age_field_validation.py                        52     52     0%
tests/test_ai_content_simple.py                           36     36     0%
tests/test_always_json_mode.py                           153    153     0%
tests/test_animation_system.py                           141    141     0%
tests/test_api_backward_compatibility.py                  70     70     0%
tests/test_api_response_format_consistency.py            107    107     0%
tests/test_api_routes.py                                  66     66     0%
tests/test_api_service_enhancements.py                    76     76     0%
tests/test_architectural_boundary_validation.py           87     87     0%
tests/test_architectural_decisions.py                    272    272     0%
tests/test_auth_mock_separation_redgreen.py               37     37     0%
tests/test_authenticated_comprehensive.py                146    146     0%
tests/test_banned_name_prevention_v2.py                   57     57     0%
tests/test_banned_names_loading.py                        48     48     0%
tests/test_banned_names_visibility_v2.py                  44     44     0%
tests/test_campaign_clicks.py                             31     31     0%
tests/test_character_extraction_regex_bug.py              64     64     0%
tests/test_ci_firebase_init_redgreen.py                   39     39     0%
tests/test_claude_settings_validation.py                 154    154     0%
tests/test_combat_bug_green.py                            50     50     0%
tests/test_combat_cleanup_comprehensive.py                99     99     0%
tests/test_common.py                                       2      2     0%
tests/test_complete_combined_approach.py                 106    106     0%
tests/test_constants.py                                  109    109     0%
tests/test_context_truncation.py                          38     38     0%
tests/test_data_integrity.py                             143    143     0%
tests/test_decorators.py                                 137    137     0%
tests/test_defensive_numeric_converter.py                 83     83     0%
tests/test_delete_fix.py                                  41     41     0%
tests/test_delete_token_comprehensive.py                  57     57     0%
tests/test_deployment_build.py                            68     68     0%
tests/test_documentation_performance.py                  155    155     0%
tests/test_dual_pass_generator.py                        147    147     0%
tests/test_entities_pydantic_integration.py              117    117     0%
tests/test_entity_classes.py                             145    145     0%
tests/test_entity_id_special_chars.py                     51     51     0%
tests/test_entity_instructions.py                        151    151     0%
tests/test_entity_preloader.py                           113    113     0%
tests/test_entity_tracking.py                            295    295     0%
tests/test_entity_tracking_generic.py                     70     70     0%
tests/test_entity_utils.py                                43     43     0%
tests/test_entity_validator.py                           121    121     0%
tests/test_extra_json_fields.py                           31     31     0%
tests/test_fake_services_simple.py                        81     81     0%
tests/test_field_format_validation.py                     51     51     0%
tests/test_file_cache.py                                 142    142     0%
tests/test_firebase_mock_mode.py                          94     94     0%
tests/test_firestore_database_errors.py                  166    166     0%
tests/test_firestore_empty_narrative_bug_redgreen.py      50     50     0%
tests/test_firestore_helper_functions_fixed.py           126    126     0%
tests/test_firestore_mission_handler.py                  123    123     0%
tests/test_firestore_mock.py                              55     55     0%
tests/test_firestore_state_helpers.py                    231    231     0%
tests/test_firestore_structured_fields.py                 92     92     0%
tests/test_flask_app_import.py                            19     19     0%
tests/test_game_state.py                                 452    452     0%
tests/test_game_state_division_by_zero.py                 54     54     0%
tests/test_gemini_entity_sanitization.py                  60     60     0%
tests/test_gemini_request_tdd.py                          74     74     0%
tests/test_gemini_request_validation.py                   71     71     0%
tests/test_gemini_response.py                            100    100     0%
tests/test_gemini_response_structured_fields.py           94     94     0%
tests/test_gemini_response_validation.py                 138    138     0%
tests/test_gemini_token_management.py                     45     45     0%
tests/test_generator_isolated.py                          43     43     0%
tests/test_god_mode_json_display_red_green.py             90     90     0%
tests/test_god_mode_planning_blocks.py                    50     50     0%
tests/test_god_mode_response_field.py                     96     96     0%
tests/test_granular_mock_control.py                       51     51     0%
tests/test_hp_unknown_values.py                           65     65     0%
tests/test_imports.py                                     60     60     0%
tests/test_infrastructure.py                             163    163     0%
tests/test_input_field_validation.py                      64     64     0%
tests/test_json_cleanup_safety.py                         90     90     0%
tests/test_json_mode_constants.py                         20     20     0%
tests/test_json_mode_preference.py                        50     50     0%
tests/test_json_mode_state_updates.py                     45     45     0%
tests/test_json_only_comprehensive.py                     53     53     0%
tests/test_json_only_mode.py                              72     72     0%
tests/test_json_utils.py                                 276    276     0%
tests/test_loading_messages.py                            50     50     0%
tests/test_luke_campaign_jedi_master_gender_fix.py        36     36     0%
tests/test_main_enhancements.py                          179    179     0%
tests/test_main_error_handling_final.py                   75     75     0%
tests/test_main_interaction_structured_fields.py          73     73     0%
tests/test_main_security_validation.py                   318    318     0%
tests/test_main_state_helper.py                          106    106     0%
tests/test_main_structured_response_building.py          152    152     0%
tests/test_mcp_health.py                                  87     87     0%
tests/test_memory_integration.py                          58     58     0%
tests/test_memory_leak_fixes_verification.py              93     93     0%
tests/test_milestone_4_interactive_features.py           234    234     0%
tests/test_mission_conversion_helpers.py                 107    107     0%
tests/test_mission_handling.py                            40     40     0%
tests/test_narrative_cutoff_bug.py                        63     63     0%
tests/test_narrative_field_clean.py                       26     26     0%
tests/test_narrative_response_error_handling.py           96     96     0%
tests/test_narrative_response_extraction.py               96     96     0%
tests/test_narrative_response_legacy_fallback.py          74     74     0%
tests/test_npc_data_handling.py                           57     57     0%
tests/test_npc_gender_consistency_red_green.py            48     48     0%
tests/test_null_narrative_bug_fix.py                      52     52     0%
tests/test_numeric_field_converter.py                     78     78     0%
tests/test_performance_config.py                          33     33     0%
tests/test_planning_block_analysis.py                     67     67     0%
tests/test_planning_block_robustness.py                   86     86     0%
tests/test_planning_block_validation_integration.py      167    167     0%
tests/test_planning_blocks_ui.py                          18     18     0%
tests/test_pr_changes_runner.py                           75     75     0%
tests/test_production_parity.py                           67     67     0%
tests/test_prompts.py                                    164    164     0%
tests/test_qwen_matrix.py                                 77     77     0%
tests/test_react_v2_tdd_critical_issues.py               163    163     0%
tests/test_real_json_bug_reproduction.py                  29     29     0%
tests/test_red_green_json_fix.py                         109    109     0%
tests/test_robust_json_parser.py                         157    157     0%
tests/test_scene_numbering.py                             33     33     0%
tests/test_settings_api.py                                46     46     0%
tests/test_squash_merge_detection.py                      77     77     0%
tests/test_state_update_integration.py                   133    133     0%
tests/test_state_updates_json_parsing.py                  44     44     0%
tests/test_structured_fields_storage.py                   54     54     0%
tests/test_structured_fields_utils.py                    135    135     0%
tests/test_structured_generation.py                       85     85     0%
tests/test_structured_response_extraction.py              59     59     0%
tests/test_subprocess_security.py                         68     68     0%
tests/test_syntax.py                                      35     35     0%
tests/test_syntax_comprehensive.py                        97     97     0%
tests/test_think_block_protocol.py                       151    151     0%
tests/test_time_consolidation.py                          52     52     0%
tests/test_time_pressure.py                               78     78     0%
tests/test_token_utils.py                                286    286     0%
tests/test_type_safety_foundation.py                      99     99     0%
tests/test_unknown_entity_filtering.py                    33     33     0%
tests/test_unknown_entity_fix_summary.py                  42     42     0%
tests/test_user_scenario_fix_validation.py                41     41     0%
tests/test_v1_vs_v2_campaign_comparison.py               427    427     0%
tests/test_v2_dashboard_authenticated_user.py             30     30     0%
tests/test_v2_frontend_red_green.py                      164    164     0%
tests/test_v2_frontend_verification.py                   262    262     0%
tests/test_validation_comparison.py                       43     43     0%
tests/test_world_loader.py                               202    202     0%
tests/test_world_loader_e2e.py                           123    123     0%
tests/test_world_logic.py                                292    292     0%
token_utils.py                                            17     17     0%
unified_api_examples.py                                    7      7     0%
world_loader.py                                           34     34     0%
world_logic.py                                           559    559     0%
--------------------------------------------------------------------------
TOTAL                                                  23585  23585     0%
