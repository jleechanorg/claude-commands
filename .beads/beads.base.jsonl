{"id":"BD-6on","content_hash":"9bac54d641549a53e9892cfb33d802d376a6bd8e85498afa6431c3716ea76c29","title":"Create compressible entity summaries at multiple detail levels","description":"Generate entity summaries at 3 compression levels during campaign creation:\n- Full: Complete backstory, relationships, speech patterns (500 tokens)\n- Medium: Key traits, current goal, player relationship (200 tokens)\n- Minimal: Name, role, one-liner (50 tokens)\n\nSelect level based on available token budget and entity importance score.\n\nRequires changes to entity data model and entity_preloader.py.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-07T23:13:16.396242-05:00","updated_at":"2025-12-07T23:13:16.396242-05:00","source_repo":".","labels":["architecture","context-budget","entity-tracking"],"dependencies":[{"issue_id":"BD-6on","depends_on_id":"BD-a76","type":"blocks","created_at":"2025-12-07T23:13:27.51776-05:00","created_by":"daemon"}]}
{"id":"BD-78a","content_hash":"baf96f41f2c49d813ad8a79c2075eeb3cbcbccefb6663ba47c2dbd94abd72bb1","title":"Test auth bypass (X-Test-Bypass-Auth) removed breaks CI","description":"Removed X-Test-Bypass-Auth in mvp_site/main.py Lines 334-335, 331-382 breaks test suite. CI/CD cannot run tests.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-23T13:26:08.902485-08:00","updated_at":"2025-11-23T13:26:08.902485-08:00","source_repo":".","labels":["P0","blocks-testing","pr-2082"]}
{"id":"BD-7wz","content_hash":"c0a2938106955b30fe68330be98491f7ce016719426aefad29da8689011b8476","title":"Rate limiter IP spoofing vulnerability - uses load balancer IP","description":"mvp_site/main.py Lines 235-236, 246-253 uses load balancer IP instead of client IP. All users share one rate limit bucket causing global DoS. Fix: Use X-Forwarded-For with ProxyFix.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-23T13:26:10.035154-08:00","updated_at":"2025-11-23T13:26:10.035154-08:00","source_repo":".","labels":["P0","pr-2082","security"]}
{"id":"BD-8k9","content_hash":"d20e526e3efa12f718099764f2e45f99ce5d2f80cf82b9809dbed62f342838ad","title":"Flask-Limiter dependency missing from requirements.txt","description":"flask_limiter imported in mvp_site/main.py Line 79 but not in requirements.txt. Deployment will fail with ImportError.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-23T13:26:07.763756-08:00","updated_at":"2025-11-23T13:26:07.763756-08:00","source_repo":".","labels":["P0","blocks-deployment","pr-2082"]}
{"id":"BD-9u7","content_hash":"5508dafc82c7c56a7979913a00114e5ed2aa1af4f2ac15d58b8bead3a3e90f3e","title":"Multiple validation error types support (V2 feature)","description":"mvp_site/validation_recovery.py Lines 105-126 only extracts ONE HP error type. Current design intentional - handles one error type per response. Future enhancement to support multiple different error types.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-11-23T13:26:16.459718-08:00","updated_at":"2025-11-23T15:59:09.608643-08:00","closed_at":"2025-11-23T15:59:09.608643-08:00","source_repo":".","labels":["P3","future","pr-2082"]}
{"id":"BD-a76","content_hash":"b6c0549e62f6933378c8ed72e8b7b15c34f0b3562c9f9233acefe39acd7ddae9","title":"Add entity_tracking token measurement logging","description":"Add logging to measure actual entity_tracking_data token count before API call. This is needed to validate the hypothesis that entity_tracking exceeds its 10,500 token reserve.\n\nAdd after line 3342 in llm_service.py:\n```python\nentity_tracking_tokens = estimate_tokens(json.dumps(entity_tracking_data))\nlogging_util.info(f\"ENTITY_TRACKING_SIZE: {entity_tracking_tokens}tk (reserve: {ENTITY_TRACKING_TOKEN_RESERVE}tk)\")\n```\n\nThis is a prerequisite for all other entity truncation work.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-07T23:13:15.268259-05:00","updated_at":"2025-12-07T23:13:15.268259-05:00","source_repo":".","labels":["context-budget","logging","quick-win"]}
{"id":"BD-clg","content_hash":"8f11bba58ed7cebfad3c19366e4560e9b9b6b81363f326a6993921686e77e418","title":"Remove dead full_prompt code in continue_story","description":"The `full_prompt` variable built at lines 3319-3327 in llm_service.py is never used. The actual API call uses LLMRequest instead.\n\nThis dead code:\n1. Wastes CPU cycles building unused string\n2. Confuses maintainers about what's actually sent\n3. Includes timeline_log which caused the wrong hypothesis\n\nDelete lines 3319-3327 and any related dead code.","status":"open","priority":2,"issue_type":"chore","created_at":"2025-12-07T23:13:17.262877-05:00","updated_at":"2025-12-07T23:13:17.262877-05:00","source_repo":".","labels":["cleanup","tech-debt"]}
{"id":"BD-jqy","content_hash":"4390a39d73be649752981a54c255c2b984c9dd9c64ea7ab3c7a5865982b40372","title":"Add XSS security warning to god mode documentation","description":"Example code in docs/god_mode_validation_recovery.md Lines 58-74 and docs/god_mode_implementation_complete.md Lines 173-189 uses innerHTML without sanitization. Add disclaimer about using textContent/DOMPurify in production.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-23T13:26:13.782779-08:00","updated_at":"2025-11-23T13:26:13.782779-08:00","source_repo":".","labels":["P2","documentation","pr-2082"]}
{"id":"BD-kln","content_hash":"7cacc22ef1a542d5de977ba93a0feaefddcbfad496af84ef58919d0320f62a87","title":"Inline re import violation in validation_recovery.py","description":"import re inside method at mvp_site/validation_recovery.py Line 69-70 violates CLAUDE.md standards. Must move to module level.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-23T13:26:11.388033-08:00","updated_at":"2025-11-23T15:59:06.173342-08:00","closed_at":"2025-11-23T15:59:06.173342-08:00","source_repo":".","labels":["P1","pr-2082","standards"]}
{"id":"BD-ms2","content_hash":"927bccbd07c23cb84f7488357dfd9b07e18a81fd0fbb22a94f2d8fd782861f6e","title":"Document rate limiter memory storage limitation","description":"memory:// storage at mvp_site/main.py Lines 235-236 not suitable for multi-worker production. Add comment explaining dev-only limitation.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-23T13:26:15.043282-08:00","updated_at":"2025-11-23T13:26:15.043282-08:00","source_repo":".","labels":["P2","documentation","pr-2082"]}
{"id":"BD-od8","content_hash":"ca19735c308129187d30efeed5097356bea43fdd7df7d88e79626bfdfcf5f947","title":"Implement tiered entity importance system","description":"Create a scoring system to prioritize entities by relevance:\n- +10 if mentioned in player's current input\n- +5 if appeared in last 3 turns  \n- +3 if in current location\n- +1 if in active quest\n\nOnly include top N entities in entity_tracking_data based on score.\n\nThis is a medium-sized refactor affecting entity_preloader.py and llm_service.py.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-07T23:13:15.870699-05:00","updated_at":"2025-12-07T23:13:15.870699-05:00","source_repo":".","labels":["architecture","context-budget","entity-tracking"],"dependencies":[{"issue_id":"BD-od8","depends_on_id":"BD-a76","type":"blocks","created_at":"2025-12-07T23:13:26.924903-05:00","created_by":"daemon"}]}
{"id":"BD-vdz","content_hash":"66338c7523efef38d22cc9ced2e4f7b2a6f072b7036a3509eecdf0ce89b8ebbb","title":"Unsafe type conversion in validation_recovery.py crashes recovery","description":"Direct int() casts without try/except at mvp_site/validation_recovery.py Lines 116-156 will crash on invalid types. Add try/except for defensive conversion.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-23T13:26:12.562354-08:00","updated_at":"2025-11-23T15:59:07.890132-08:00","closed_at":"2025-11-23T15:59:07.890132-08:00","source_repo":".","labels":["P1","crashes","pr-2082"]}
