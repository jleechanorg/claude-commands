<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WorldArchitect.AI - In-Game Dynamic World Panel</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
    <link href="ingame.css" rel="stylesheet">
</head>
<body>
    <!-- Main Game Interface -->
    <div class="game-interface">
        <!-- Game Content Area -->
        <div class="game-content">
            <div class="narrative-area">
                <h2>The Abandoned Tower</h2>
                <p>The ancient tower looms before you, its weathered stones bearing the scars of countless battles. Through a broken window, you can see flickering candlelight - someone, or something, is inside.</p>
                
                <p>Sir Aldwin places a hand on your shoulder. "Be careful, friend. The scouts reported strange sounds coming from within. This could be a trap."</p>
                
                <div class="player-actions">
                    <h4>What do you do?</h4>
                    <ol>
                        <li>Scout the tower's perimeter first</li>
                        <li>Enter through the main door boldly</li>
                        <li>Try to climb to a window</li>
                        <li>Send Sir Aldwin to investigate</li>
                    </ol>
                </div>
            </div>
        </div>

        <!-- Collapsible World State Panel -->
        <div class="world-state-panel collapsed">
            <div class="panel-toggle" onclick="togglePanel()">
                <i class="fas fa-chevron-left toggle-icon"></i>
                <span class="toggle-text">World</span>
            </div>

            <div class="panel-content">
                <h4 class="panel-title">
                    <i class="fas fa-globe"></i> World State
                </h4>

                <!-- Quick Stats -->
                <div class="quick-stats">
                    <div class="stat-item">
                        <i class="fas fa-calendar-day"></i>
                        <span class="stat-value">Day 142</span>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-star"></i>
                        <span class="stat-value">Hero Status</span>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-users"></i>
                        <span class="stat-value">5 Allies</span>
                    </div>
                </div>

                <!-- Recent Events Mini-Timeline -->
                <div class="recent-events">
                    <h5>Recent Changes</h5>
                    <div class="event-item">
                        <div class="event-time">10 min ago</div>
                        <div class="event-text">
                            <i class="fas fa-handshake text-success"></i>
                            Sir Aldwin joins your party
                        </div>
                    </div>
                    <div class="event-item">
                        <div class="event-time">1 hour ago</div>
                        <div class="event-text">
                            <i class="fas fa-bolt text-warning"></i>
                            Strange magic detected nearby
                        </div>
                    </div>
                    <div class="event-item">
                        <div class="event-time">3 hours ago</div>
                        <div class="event-text">
                            <i class="fas fa-skull text-danger"></i>
                            Baron Blackwood defeated
                        </div>
                    </div>
                    <div class="event-item">
                        <div class="event-time">1 day ago</div>
                        <div class="event-text">
                            <i class="fas fa-crown text-primary"></i>
                            Succession crisis begins
                        </div>
                    </div>
                </div>

                <!-- Active Effects -->
                <div class="active-effects">
                    <h5>Active World Effects</h5>
                    <div class="effect-item positive">
                        <i class="fas fa-shield-alt"></i>
                        <span>Protected by Silver Hand</span>
                    </div>
                    <div class="effect-item negative">
                        <i class="fas fa-exclamation-triangle"></i>
                        <span>Wanted by Shadow Guild</span>
                    </div>
                    <div class="effect-item neutral">
                        <i class="fas fa-hourglass-half"></i>
                        <span>3 days until festival</span>
                    </div>
                </div>

                <!-- Relationship Summary -->
                <div class="relationship-summary">
                    <h5>Key Relationships</h5>
                    <div class="relationship-mini">
                        <span class="npc-name">Sir Aldwin</span>
                        <div class="trust-mini">
                            <div class="trust-bar" style="width: 85%"></div>
                        </div>
                    </div>
                    <div class="relationship-mini">
                        <span class="npc-name">Elara</span>
                        <div class="trust-mini">
                            <div class="trust-bar" style="width: 65%"></div>
                        </div>
                    </div>
                    <div class="relationship-mini">
                        <span class="npc-name">Marcus</span>
                        <div class="trust-mini neutral">
                            <div class="trust-bar" style="width: 50%"></div>
                        </div>
                    </div>
                </div>

                <!-- View Full History Link -->
                <div class="panel-footer">
                    <a href="#" class="view-full-link">
                        <i class="fas fa-external-link-alt"></i>
                        View Full World History
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container position-fixed top-0 end-0 p-3">
        <!-- World Update Toast -->
        <div class="toast world-update-toast show" role="alert">
            <div class="toast-header">
                <i class="fas fa-globe text-primary me-2"></i>
                <strong class="me-auto">World Update</strong>
                <small>Just now</small>
                <button type="button" class="btn-close" data-bs-dismiss="toast"></button>
            </div>
            <div class="toast-body">
                <i class="fas fa-info-circle"></i> The Shadow Guild has taken notice of your actions
            </div>
        </div>
    </div>

    <!-- Mobile Bottom Bar Version -->
    <div class="mobile-world-bar d-md-none">
        <div class="mobile-stats">
            <div class="mobile-stat">
                <i class="fas fa-calendar-day"></i>
                <span>Day 142</span>
            </div>
            <div class="mobile-stat">
                <i class="fas fa-star"></i>
                <span>Hero</span>
            </div>
            <div class="mobile-stat">
                <i class="fas fa-users"></i>
                <span>5 Allies</span>
            </div>
            <button class="btn btn-sm btn-primary" onclick="showMobilePanel()">
                <i class="fas fa-globe"></i> World
            </button>
        </div>
    </div>

    <!-- Mobile Panel Modal -->
    <div class="modal fade" id="mobileWorldPanel" tabindex="-1">
        <div class="modal-dialog modal-fullscreen-sm-down">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-globe"></i> World State
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <!-- Same content as desktop panel -->
                    <div class="recent-events">
                        <h5>Recent Changes</h5>
                        <div class="event-item">
                            <div class="event-time">10 min ago</div>
                            <div class="event-text">
                                <i class="fas fa-handshake text-success"></i>
                                Sir Aldwin joins your party
                            </div>
                        </div>
                        <!-- More events... -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function togglePanel() {
            const panel = document.querySelector('.world-state-panel');
            panel.classList.toggle('collapsed');
            
            const icon = document.querySelector('.toggle-icon');
            if (panel.classList.contains('collapsed')) {
                icon.classList.remove('fa-chevron-right');
                icon.classList.add('fa-chevron-left');
            } else {
                icon.classList.remove('fa-chevron-left');
                icon.classList.add('fa-chevron-right');
            }
        }

        function showMobilePanel() {
            const modal = new bootstrap.Modal(document.getElementById('mobileWorldPanel'));
            modal.show();
        }

        // Simulate world update notifications
        setTimeout(() => {
            const toast = document.querySelector('.world-update-toast');
            toast.classList.remove('show');
        }, 5000);
    </script>
</body>
</html>